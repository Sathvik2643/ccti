<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Code Connect</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="description" content="Coaching Institute - Home of expert mentors, courses, team updates and student resources." />
</head>
<body>
  <!-- NAV -->
  <header class="site-header">
    <nav class="navbar container">
      <div class="brand">Code Connect</div>
      <button class="nav-toggle" aria-label="toggle navigation">☰</button>
      <ul class="nav-links">
        <li><a href="#home">Home</a></li>
        <li><a href="#team">Updates</a></li>
        <li><a href="#courses">Courses Offered</a></li>
        <li><a href="#student">Student Corner</a></li>
        <li><a href="#about">About Us</a></li>
      </ul>
    </nav>
  </header>

  <!-- HOME -->
  <main>
    <section id="home" class="hero">
      <div class="container hero-inner">
        <h1>Welcome to Code Connect</h1>
        <p>Expert mentors. Structured curriculum. Real results.</p>
        <a class="btn" href="#courses">Explore Courses</a>
      </div>
    </section>

    <!-- TEAM UPDATES -->
    <section id="updates" class="section">
      <div class="container">
        <h2>Updates</h2>
        <div class="grid cards">
          <article class="card">
            <h3>New Mentor — Rahul</h3>
            <p>We welcome Mr. Rahul (IIT grad) to the Physics faculty — 10+ years teaching experience.</p>
          </article>
          <article class="card">
            <h3>Achievement</h3>
            <p>Congratulations to our students for top ranks in national entrance exams.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- COURSES -->
    <section id="courses" class="section alt">
      <div class="container">
        <h2>Courses Offered</h2>
        <div class="grid cards">
          <article class="card">
            <h3>Software</h3>
            <p>C,Python,Java, SQL. And Data AnaLyst, MS Office etc..</p>
          </article>
          <article class="card">
            <h3>VLSI</h3>
            <p>Verilog, System Verilog, UVM and Protocols. \n Design, Design Verification</p>
          </article>
          <article class="card">
            <h3>Embedded Systems</h3>
            <p>Strong fundamentals with concept-building and practice worksheets.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- STUDENT CORNER -->
    <section id="student" class="section">
      <div class="container">
        <h2>Student Corner</h2>

        <div class="student-actions">
          <!-- Replace the placeholder URLs in the href attributes below -->
          <a id="registerBtn" class="btn outline" href="GOOGLE_FORM_URL" target="_blank" rel="noopener noreferrer">Register</a>

          <!--<a id="driveBtn" class="btn outline" href="DRIVE_FOLDER_URL" target="_blank" rel="noopener noreferrer">Download Certificate</a> -->
        </div>

        <div class="verify-block card">
          <h3>Download/Verify Certificate</h3>
          <p>Enter Certificate ID below (example: <code>CERT2025-001</code>)</p>

          <div class="verify-input">
            <input id="certIdInput" type="text" placeholder="Enter Certificate ID" aria-label="certificate id">
            <button id="verifyBtn" class="btn">Verify</button>
          </div>

          <div id="verifyResult" class="verify-result" aria-live="polite"></div>
          <!-- If valid and file exists, we will show a download link here -->
          <div id="certFileArea" style="margin-top:12px;"></div>
        </div>

        <p class="hint">Note: The register button opens your Google Form. The "Download Certificate" opens your Drive folder with all certificates.</p>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section alt">
      <div class="container">
        <h2>About Us</h2>
        <p>
          We are a dedicated coaching institute focused on exam-oriented teaching for engineering aspirants.
          Our structured syllabus and experienced faculty help students reach their goals.
        </p>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="container">
      <p>© 2025 Coaching Institute — All rights reserved.</p>
    </div>
  </footer>

  <script>
    // small nav toggle for mobile
    const btn = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.nav-links');
    btn && btn.addEventListener('click', () => nav.classList.toggle('open'));

    // ---------- Certificate verification logic ----------
    // It fetches certificates.json (a small static file in repo) and checks for ID.
    // Make sure certificates.json is in the same folder as index.html on GitHub Pages.

    const verifyBtn = document.getElementById('verifyBtn');
    const certInput = document.getElementById('certIdInput');
    const resultBox = document.getElementById('verifyResult');
    const certFileArea = document.getElementById('certFileArea');
    let certificates = []; // will be loaded from certificates.json

    // Load certificates.json on page load
    fetch('certificates.json')
      .then(res => {
        if (!res.ok) throw new Error('Could not load certificates.json');
        return res.json();
      })
      .then(data => { certificates = data; })
      .catch(err => {
        console.warn('certificates.json load failed:', err);
        // keep certificates empty; verification will always be invalid until file is added
      });

    function sanitizeId(s){ return String(s || '').trim().toUpperCase(); }

    verifyBtn.addEventListener('click', () => {
      const searchId = sanitizeId(certInput.value);
      certFileArea.innerHTML = '';
      resultBox.textContent = '';

      if (!searchId) {
        resultBox.textContent = 'Please enter a Certificate ID.';
        resultBox.className = 'verify-result invalid';
        return;
      }

      // Search in the loaded array (exact match)
      const found = certificates.find(c => sanitizeId(c.id) === searchId);

      if (found) {
        resultBox.textContent = '✔ Certificate VALID';
        resultBox.className = 'verify-result valid';
        // If a file link is present, show download button
        if (found.file && found.file.length) {
          const a = document.createElement('a');
          a.href = found.file;
          // open in new tab; if direct download URL is used, browser will download
          a.target = '_blank';
          a.rel = 'noopener noreferrer';
          a.className = 'btn outline';
          a.textContent = 'Download Certificate';
          certFileArea.appendChild(a);
        } else {
          certFileArea.textContent = 'Certificate found but no download file available.';
        }
      } else {
        resultBox.textContent = '✖ Certificate INVALID or not found';
        resultBox.className = 'verify-result invalid';
      }
    });

    // Allow Enter key to trigger verify
    certInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') verifyBtn.click();
    });
  </script>
</body>
</html>
